{% load static %}
<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr">
<!-- BEGIN: Head-->

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <meta name="description" content="Frest admin is super flexible, powerful, clean &amp; modern responsive bootstrap 4 admin template with unlimited possibilities.">
    <meta name="keywords" content="admin template, Frest admin template, dashboard template, flat admin template, responsive admin template, web app">
    <meta name="author" content="PIXINVENT">
    <title>Account Settings - Frest - Bootstrap HTML admin template</title>

    {% block cssLoader %}
    {% include 'admin_panel/cssLoader.html' %}
    {% endblock cssLoader %}

</head>
<!-- END: Head-->

<!-- BEGIN: Body-->

<body class="vertical-layout vertical-menu-modern semi-dark-layout 2-columns  navbar-sticky footer-static  " data-open="click" data-menu="vertical-menu-modern" data-col="2-columns" data-layout="semi-dark-layout">

    <!-- BEGIN: Header-->
    {% block content %}
    {% include 'admin_panel/headerFORM.html' %}
    {% endblock %}
    <!-- END: Header-->


     <!-- BEGIN: Main Menu-->
    {% block menu %}
    {% include 'admin_panel/mainMenuFORM.html' %}
    {% endblock menu %}
   <!-- END: Main Menu-->


    <!-- BEGIN: Content-->
    <div class="app-content content">
        <div class="content-overlay"></div>
        <div class="content-wrapper">
            <div class="content-header row">
                <div class="content-header-left col-12 mb-2 mt-1">
                    <div class="row breadcrumbs-top">
                        <div class="col-12">
                            <h5 class="content-header-title float-left pr-1 mb-0">Компания</h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="content-body">
                <!-- account setting page start -->
                <section id="page-account-settings">
                    <div class="row">
                        <div class="col-12">
                            <div class="row">
                                <!-- left menu section -->
                                <div class="col-md-3 mb-2 mb-md-0 pills-stacked">
                                    <ul class="nav nav-pills flex-column">
                                        <li class="nav-item">
                                            <a class="nav-link d-flex align-items-center active" id="account-pill-general" data-toggle="pill" href="#account-vertical-general" aria-expanded="true">
                                                <i class="bx bx-cog"></i>
                                                <span>Главная</span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link d-flex align-items-center" id="account-pill-password" data-toggle="pill" href="#account-vertical-password" aria-expanded="false">
                                                <i class="bx bx-lock"></i>
                                                <span>Смена пароля</span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link d-flex align-items-center" id="account-pill-info" data-toggle="pill" href="#account-vertical-info" aria-expanded="false">
                                                <i class="bx bx-info-circle"></i>
                                                <span>Информация</span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link d-flex align-items-center " id="account-pill-service" data-toggle="pill" href="#account-vertical-service" aria-expanded="false">
                                                <i class="bx bx-link"></i>
                                                <span>Услуги/Товары</span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link d-flex align-items-center " id="account-pill-filial" data-toggle="pill" href="#account-vertical-filial" aria-expanded="false">
                                                <i class="bx bx-link"></i>
                                                <span>Филиалы</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <!-- right content section -->
                                <div class="col-md-9">
                                    <div class="card">
                                        <div class="card-content">
                                            <div class="card-body">
                                                <div class="tab-content">
                                                    <div role="tabpanel" class="tab-pane active" id="account-vertical-general" aria-labelledby="account-pill-general" aria-expanded="true">
                                                        <form action="{% url 'company-edit' company.pk %}" method="POST">
                                                                          {% csrf_token %}
                                                          <input type="hidden" name="form" value="info">
                                                            <div class="row">
                                                                <div class="col-12">
                                                                    <div class="form-group">
                                                                        <div class="controls">
                                                                            <label>Название</label>
                                                                            <input type="text" class="form-control" name = "name" placeholder="Название" value="{{ company.info.name }}" required data-validation-required-message="This name field is required">
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div class="col-12">
                                                                    <div class="form-group">
                                                                        <div class="controls">
                                                                            <label>Описание</label>
                                                                            <input type="text" class="form-control"  name = "description" placeholder="Описание" value="{{company.info.description}}" required data-validation-required-message="This discription field is required">
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div class="col-12">
                                                                    <div class="form-group">
                                                                        <div class="controls">
                                                                            <label>Краткое описание</label>
                                                                            <input type="text" class="form-control" name = "short_description" placeholder="Краткое описание" value="{{company.info.short_description}}" required data-validation-required-message="This short discription field is required">
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                 <div class="col-12">
                                                                    <div class="form-group">
                                                                        <div class="controls">
                                                                            <label>Телефон</label>
                                                                            <input type="text" class="form-control" required placeholder="Phone number" value="{{ company.info.phone }}" name="phone">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-12">
                                                                    <div class="form-group">
                                                                        <label>Сайт</label>
                                                                        <input type="text" class="form-control" placeholder="Сайт" value="{{ company.info.site }}" name="site">
                                                                    </div>
                                                                </div>
                                                                <div class="col-12">
                                                                    <div class="form-group">
                                                                        <label>Почта для получения заявок</label>
                                                                        <input type="text" class="form-control" placeholder="Почта для получения заявок"  value="{{ company.info.email }}" name="email">
                                                                    </div>
                                                                </div>
                                                                 <div class="col-12">
                                                                <div class="form-group">
                                                                    <label>Город</label>
                                                                    <input type="text" class="form-control" placeholder="Город" value="{{ company.info.city }}" name="city">
                                                                </div>
                                                                </div>
                                                                <div class="col-12">
                                                                <div class="form-group">
                                                                    <label>Адрес</label>
                                                                    <input type="text" class="form-control" placeholder="Адрес" value="{{ company.info.adress }}" name="adress">
                                                                </div>
                                                                </div>
                                                                <div class="col-12">
                                                                <div class="form-group">
                                                                    <label>Время работы: </label>
                                                                    <input type="text" class="form-control" placeholder="Время работы:" value="{{ company.info.worktime }}" name="worktime">
                                                                </div>
                                                                </div>
                                                                <div class="col-12">
                                                                <div class="form-group">
                                                                   <label>Статус</label>
                                                                     <select class="form-control" name="status">
                                                                      <option value="0" {% if company.status == company.StatusChoices.ACCEPTED %} selected {% endif %}>Accepted</option>
                                                                      <option value="1" {% if company.status == company.StatusChoices.PENDING %} selected {% endif %}>Pending</option>
                                                                      <option value="2" {% if company.status == company.StatusChoices.BANNED %} selected {% endif %}>Черный список</option>
                                                                     </select>
                                                                </div>
                                                                </div>

                                                                <div class="col-12 d-flex flex-sm-row flex-column justify-content-end">
                                                                    <button type="submit" class="btn btn-primary glow mr-sm-1 mb-1">Сохранить</button>
                                                                    <button type="reset" class="btn btn-light mb-1">Закрыть</button>
                                                                </div>
                                                        </div>
                                                        </form>
                                                    </div>
                                                    <div class="tab-pane fade " id="account-vertical-password" role="tabpanel" aria-labelledby="account-pill-password" aria-expanded="false">
                                                        <form novalidate>
                                                            <div class="row">
                                                                <div class="col-12">
                                                                    <div class="form-group">
                                                                        <div class="controls">
                                                                              <label>Старый пароль</label>
                                                                            <input type="password" class="form-control" required placeholder="Старый пароль" data-validation-required-message="This old password field is required">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-12">
                                                                    <div class="form-group">
                                                                        <div class="controls">
                                                                            <label>Новый пароль</label>
                                                                            <input type="password" name="password" class="form-control" placeholder="Новый пароль" required data-validation-required-message="The password field is required" minlength="6">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-12">
                                                                    <div class="form-group">
                                                                        <div class="controls">
                                                                            <label>Повторите новый пароль</label>
                                                                            <input type="password" name="con-password" class="form-control" required data-validation-match-match="password" placeholder="Повторите новый пароль" data-validation-required-message="The Confirm password field is required" minlength="6">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 d-flex flex-sm-row flex-column justify-content-end">
                                                                    <button type="submit" class="btn btn-primary glow mr-sm-1 mb-1">Сохранить</button>
                                                                    <button type="reset" class="btn btn-light mb-1">Закрыть</button>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                    <div class="tab-pane fade" id="account-vertical-info" role="tabpanel" aria-labelledby="account-pill-info" aria-expanded="false">
                                                    <form action="{% url 'company-edit' company.pk %}" method="POST">
                                                    {% csrf_token %}
                                                                <div class="col-12">
                                                                    <div class="form-group">
                                                                        <label>Категория</label>
                                                                            <input type="hidden" name="form" value="category">
                                                                        <select class="form-control" id="accountSelect"  name="categories" >
                                                                                 {% for category in categories %}
                                                                                    <option value="{{ category.pk }}" {% if category in company_categories %} selected {% endif %}>
                                                                                                  {{ category }}
                                                                                          </option>
                                                                            {% endfor %}
                                                                        </select>
                                                                    </div>
                                                                </div>

                                                                <div class="col-12 d-flex flex-sm-row flex-column justify-content-end">
                                                                    <button type="submit" class="btn btn-primary glow mr-sm-1 mb-1">Сохранить</button>
                                                                    <button type="reset" class="btn btn-light mb-1">Закрыть</button>
                                                                </div>
                                                        </form>
                                                    </div>

                                                    <div class="tab-pane fade" id="account-vertical-service" role="tabpanel" aria-labelledby="account-pill-connections" aria-expanded="false">
                                                        <form action="{% url 'company-edit' company.pk %}" method="post">
                                                            {% csrf_token %}
                                                                 <input type="hidden" name="form" value="service">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                <h5>Услуга/Товар</h5>
                                                            </div> 
                                                            <div class="col-4">
                                                                <div class="form-group">
                                                                    <label>Название</label>
                                                                    <input type="text" class="form-control" name="name" value="">
                                                                </div>
                                                            </div>
                                                            <div class="col-4">
                                                                <div class="form-group">
                                                                    <label>Описание</label>
                                                                    <input type="text" class="form-control" name="description" value="">
                                                                </div>
                                                            </div>
                                                            <div class="col-4">
                                                                <div class="form-group">
                                                                    <label>Цена</label>
                                                                    <input type="text" class="form-control" name="price" value="">
                                                                </div>
                                                            </div>
                                                        </div>
                                                            <div class="table-responsive">
                                        <table id="users-list-datatable" class="table">
                                            <thead>
                                                <tr>
                                                    <th>Название</th>
                                                    <th>Описание</th>
                                                    <th>Цена</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                  {% for service in services %}
                                                       {% if service.company_fk == company.pk %}
                                                   <tr>
                                                    <td>{{ service.name }}</td>
                                                    <td>{{ service.description }}</td>
                                                    <td>{{ service.price }}</td>
                                                   </tr>
                                                     {% endif %}
                                                  {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                                        <div class="row">
                                                            <div class="col-12 d-flex flex-sm-row flex-column justify-content-end">
                                                                <button type="submit" class="btn btn-primary glow mr-sm-1 mb-1">Сохранить</button>
                                                                <button type="reset" class="btn btn-light mb-1">Закрыть</button>
                                                            </div>
                                                        </div>
                                                        </form>
                                                    </div>
                                                    <div class="tab-pane fade active show" id="account-vertical-filial" role="tabpanel" aria-labelledby="account-pill-filial" aria-expanded="false">
                                                        <form action="{% url 'company-edit' company.pk %}" method="post">
                                                            {% csrf_token %}
                                                            <input type="hidden" name="form" value="branches">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                <h5>Филиалы</h5>
                                                            </div>
                                                            <div class="col-6">
                                                                <div class="form-group">
                                                                    <label>Город</label>
                                                                    <input type="text" class="form-control" placeholder="Город" name="city">
                                                                </div>
                                                            </div>
                                                            <div class="col-6">
                                                                <div class="form-group">
                                                                    <label>Адрес</label>
                                                                    <input type="text" class="form-control" placeholder="Адрес" name="address">
                                                                </div>
                                                            </div>
                                                            <div class="col-6">
                                                                <div class="form-group">
                                                                    <label>Телефон</label>
                                                                    <input type="text" class="form-control" placeholder="Телефон" name="phone">
                                                                </div>
                                                            </div>
                                                            <div class="col-6">
                                                                <div class="form-group">
                                                                    <label>Почта</label>
                                                                    <input type="text" class="form-control" placeholder="Почта" name="email">
                                                                </div>
                                                            </div>
                                                            <div class="col-6">
                                                                <div class="form-group">
                                                                    <label>Время работы</label>
                                                                    <input type="text" class="form-control" placeholder="Время работы" name="worktime">
                                                                </div>
                                                            </div>
                                                        </div>
                                                            <div class="table-responsive">
                                                                <table id="users-list-datatable" class="table">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Город</th>
                                                                        <th>Адрес</th>
                                                                        <th>Телефон</th>
                                                                        <th>Почта</th>
                                                                        <th>Время работы</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                      {% for branch in branches %}
                                                                          {% if branch.company_fk == company.pk %}
                                                                       <tr>
                                                                        <td>{{ branch.city }}</td>
                                                                        <td>{{ branch.address }}</td>
                                                                        <td>{{ branch.phone }}</td>
                                                                        <td>{{ branch.email }}</td>
                                                                        <td>{{ branch.worktime }}</td>
                                                                       </tr>
                                                                         {% endif %}
                                                                      {% endfor %}
                                                                </tbody>
                                                            </table>
                                                          </div>

                                                            <div class="row">
                                                            <div class="col-12 d-flex flex-sm-row flex-column justify-content-end">
                                                                <button type="submit" class="btn btn-primary glow mr-sm-1 mb-1">Сохранить</button>
                                                                <button type="reset" class="btn btn-light mb-1">Закрыть</button>
                                                            </div>
                                                         </div>
                                                        </form>
                                                    </div>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                </div>
                               </div>
                        </div>
                        </div>
                </section>
                <!-- account setting page ends -->
            </div>
        </div>
    </div>
    <!-- END: Content-->

    </div>
    <div class="sidenav-overlay"></div>
    <div class="drag-target"></div>

    <!-- BEGIN: Footer-->
     {% block footer %}
    {% include 'admin_panel/footerFORM.html' %}
    {% endblock footer %}
    <!-- END: Footer-->



    {% block jsLoader %}
    {% include 'admin_panel/jsLoader.html' %}
    {% endblock jsLoader %}

</body>
<!-- END: Body-->

</html>